<?xml version="1.0" encoding="utf-8"?>

<odoo>

    <record model="ir.module.category" id="module_Indent_claim_employee">
        <field name="name">Indent</field>
        <field name="description">Help You For Indent</field>
        <field name="sequence">21</field>
    </record>


    <record id="group_Indent_manager" model="res.groups">
        <field name="name">Indent Manager</field>
        <field name="stpi">1</field>
        <field name="category_id" ref="module_Indent_claim_employee"/>
    </record>




    <record id="ir_rule_Indent_global_security" model="ir.rule">
        <field name="model_id" ref="model_indent_request"/>
        <field name="domain_force">['|', ('employee_id.branch_id','=',False), ('employee_id.branch_id.id','in',[g.id for g in user.branch_ids])] </field>
        <field name="name">Indent Advance</field>
        <field name="global" eval="True"/>
    </record>

    <record id="ir_rule_Indent_self_security" model="ir.rule">
        <field name="model_id" ref="model_indent_request"/>
        <field name="domain_force">['|', ('employee_id.user_id', '=', user.id), ('employee_id.parent_id.user_id', '=', user.id)]</field>
        <field name="name">Indent Request Self or Subordinates only</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>


    <record id="ir_rule_Indent_allowed_self_security" model="ir.rule">
        <field name="model_id" ref="model_indent_request"/>
        <field name="domain_force">['|',  ('employee_id.branch_id','=','False'), ('employee_id.branch_id.id','in',[g.id for g in user.branch_ids])]</field>
        <field name="name">Indent Branch Rule</field>
        <field name="groups" eval="[(4, ref('employee_Indent.group_Indent_manager'))]"/>
    </record>





    <record id="ir_rule_Indent_ledger_global_security" model="ir.rule">
        <field name="model_id" ref="model_issue_request"/>
        <field name="domain_force">['|', ('employee_id.branch_id','=',False), ('employee_id.branch_id.id','in',[g.id for g in user.branch_ids])] </field>
        <field name="name">Indent_ledger</field>
        <field name="global" eval="True"/>
    </record>

    <record id="ir_rule_Indent_ledger_self_security" model="ir.rule">
        <field name="model_id" ref="model_issue_request"/>
        <field name="domain_force">['|', ('employee_id.user_id', '=', user.id), ('employee_id.parent_id.user_id', '=', user.id)]</field>
        <field name="name">Indent_ledger Request Self or Subordinates only</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>


    <record id="ir_rule_Indent_ledger_allowed_self_security" model="ir.rule">
        <field name="model_id" ref="model_issue_request"/>
        <field name="domain_force">['|',  ('branch_id','=','False'), ('branch_id.id','in',[g.id for g in user.branch_ids])]</field>
        <field name="name">Indent_ledger Branch Rule</field>
        <field name="groups" eval="[(4, ref('employee_Indent.group_Indent_manager'))]"/>
    </record>




    <record id="ir_rule_Indent_claim_global_security" model="ir.rule">
        <field name="model_id" ref="model_employee_Indent_claim"/>
        <field name="domain_force">['|', ('employee_id.branch_id','=',False), ('employee_id.branch_id.id','in',[g.id for g in user.branch_ids])] </field>
        <field name="name">Indent Claim</field>
        <field name="global" eval="True"/>
    </record>

    <record id="ir_rule_Indent_claim_self_security" model="ir.rule">
        <field name="model_id" ref="model_employee_Indent_claim"/>
        <field name="domain_force">['|', ('employee_id.user_id', '=', user.id), ('employee_id.parent_id.user_id', '=', user.id)]</field>
        <field name="name">Indent Claim Request Self or Subordinates only</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>


    <record id="ir_rule_Indent_claim_allowed_self_security" model="ir.rule">
        <field name="model_id" ref="model_employee_Indent_claim"/>
        <field name="domain_force">['|',  ('employee_id.branch_id','=','False'), ('employee_id.branch_id.id','in',[g.id for g in user.branch_ids])]</field>
        <field name="name">Indent Claim Branch Rule</field>
        <field name="groups" eval="[(4, ref('employee_Indent.group_Indent_manager'))]"/>
    </record>



</odoo>
