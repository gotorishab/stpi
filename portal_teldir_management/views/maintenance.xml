<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="teldirs_my_home_menu_expense" name="Portal layout: maintenance" inherit_id="portal.portal_breadcrumbs">
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li t-if="page_name == 'teldirs' or teldirs" t-attf-class="breadcrumb-item #{'active ' if not teldirs else ''}">
                <a t-if="teldirs" t-attf-href="/get/teldirs?{{ keep_query() }}">teldirs</a>
                <t t-else="">teldirs</t>
            </li>
        </xpath>
    </template>

    <!-- menu in my account -->
    <template id="portal_my_home_sale" name="Portal My Home : sales entries" inherit_id="portal.portal_my_home" priority="20">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-if="teldirs_count" t-call="portal.portal_docs_entry">
                <t t-set="title">teldirs</t>
                <t t-set="url" t-value="'/get/teldirs'"/>
                <t t-set="count" t-value="teldirs_count"/>
            </t>
        </xpath>
    </template>

    <!-- list view of maintenance -->
    <template id="portal_my_teldirs_data" name="My teldirs">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>
            <t t-call="portal.portal_searchbar">
                <t t-set="title">TelephoneDirectory</t>
            </t>
            <t t-if="not teldirs_ids">
                 <p>There are currently no 'telephone directory' for your account.</p>
            </t>
            <t t-if="teldirs_ids" t-call="portal.portal_table">
                <thead>
                    <tr>
<!--                        <th><i class="fa fa-file"></i></th>-->
                        <!-- <th></th> -->
                        <th>Name</th>
                        <th>Job Position</th>
                        <th>Department</th>
                        <th>Unit</th>
                        <th>Work Mobile</th>
                        <th>Work Phone</th>
                        <th>Work Email</th>
                    </tr>
                </thead>
                <t t-foreach="teldirs_ids" t-as="teldirs">
                    <tr>
                        <td>
                            <t t-esc="teldirs.name"/>
<!--                            <img style="height: 30px;width: 25px;" t-attf-src="/portal_teldir_management/static/src/img/{{teldirs._get_image()}}"/>-->
                        </td>
                        <!-- <td>
                            <a t-attf-href="/web/content/portal.teldirs/{{teldirs.id}}/teldir?download=true" target="_blank"><i style="height: 30px;width: 25px;cursor: pointer;" class="fa fa-share"></i></a>
                        </td> -->
                       <td>
                           <t t-esc="teldirs.job_id.name"/>
<!--                            <a t-attf-href="/web/content/portal.teldirs/{{teldirs.id}}/teldir?download=true" target="_blank"><t t-esc="teldirs.name"/></a>-->
                        </td>
                       <td>
                            <t t-esc="teldirs.department_id.name"/>
                        </td>
                        <td>
                            <t t-esc="teldirs.unit_id.name"/>
                        </td>
                        <td>
                            <t t-esc="teldirs.work_mobile"/>
                        </td>
                        <td>
                            <t t-esc="teldirs.work_phone"/>
                        </td>
                        <td>
                            <t t-esc="teldirs.work_email"/>
                        </td>
<!--                        <td>-->
<!--                            <t t-esc="teldirs._get_size()"/> <span t-if="teldirs._get_size() > 1">MB</span><span t-else="">Bytes</span>-->
<!--                        </td>-->
                    </tr>
                </t>
            </t>
        </t>
    </template>
</odoo>
